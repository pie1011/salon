generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL")
  directUrl = env("POSTGRES_URL_NON_POOLING")
}

model Stylist {
  id           Int           @id @default(autoincrement())
  stylistName  String
  stylistEmail String        @unique
  appointments Appointment[]
}

model Appointment {
  id         Int       @id @default(autoincrement())
  confirmed  Boolean
  customerId Int
  date       DateTime
  stylistId  Int
  time       DateTime
  customer   Customer  @relation(fields: [customerId], references: [id])
  stylist    Stylist   @relation(fields: [stylistId], references: [id])
  services   Service[] @relation("AppointmentToService")
}

model Service {
  id           Int           @id @default(autoincrement())
  name         String
  price        Float
  duration     Int
  description  String
  appointments Appointment[] @relation("AppointmentToService")
}

model Customer {
  id           Int           @id @default(autoincrement())
  name         String
  email        String
  phone        String
  ccard        String
  appointments Appointment[]
}
